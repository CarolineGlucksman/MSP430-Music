# MSP430-Music
Use the MSP430 in order to play two songs: "Joy to the World" and "Hotline Bling"


This project uses 5 buttons, 4 of which have been set up on the breadboard as shown above, plus the button on the MSP430 itself. The button on the MSP430 is used to play or pause the current song. The other buttons provide the functionality to speed up and slow down the tempo, reset the current song, and change which song is being played. Outputs used are the speaker as well as the red and green LEDs. 

The buttons are called using a button interrupt handler, and are debounced by counting up in the watchdog timer using a global “button_count” variable. The interrupt flag on the button that has been pressed is not reset until the global variable has been incremented a certain number of times by the watchdog timer.

This project is able to play two songs: “Joy to the World,” and “Hotline Bling” by Drake. These are each represented in the MSP430 flash memory with two arrays, one for the frequency of every note in the song and one for the duration of every note in the song. Global variables keep track of the current note in the song and another keeps track of the current note duration. The timekeeper for the song is the watchdog timer, which compares the note duration in the array to the number of times it has been called. The base unit of time is a global variable called “unit” which sets the tempo, and thus if this “unit” is changed the tempo can be varied because it will take the watchdog timer more or less cycles to reach this unit of time.

The system also changes LEDs depending on which song is playing. The red LED goes on for “Joy to the World” while the green LED is turned on for “Hotline Bling.” The current song is tracked in a global variable “song_curr” and the LED is switched when the button corresponding to the “change” functionality is called. The LED also faintly blinks in time with the music.

One major drawback of this implementation is the space required to store the two songs. Each song requires two int arrays, so in total four int arrays were needed. Another drawback is that the LEDs flashing is not very noticeable, and this should be improved in future iterations of the project. One virtue of the design is that it is very clear to see how this design is implemented, due to the simplicity of the global state variables as well as how the note durations and frequencies are stored. If one knows how to read music, it is trivial to convert this into a score that the MSP430 can read. The button interrupt handler is also simple compared to keeping track of button states in the watchdog timer, although the extra debouncing was required in order to use this method. Changing the tempo of the song is also trivial due to the way the watchdog timer keeps time based on a global “unit” of time variable. Overall this design is very user friendly and straightforward, and the only changes to be made for the future would be to store the scores differently in order to take up less space.
